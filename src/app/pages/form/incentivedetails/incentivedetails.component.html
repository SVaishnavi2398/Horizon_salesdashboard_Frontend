<div class="container-fluid">

    <div class="page-title-box d-flex align-items-center justify-content-between"  style="padding-bottom:0px !important;"> 
      <div class="mb-0 font-size-20">
          <h4>Incentive Details</h4> 
      </div>
    </div> 
    <div class="mb-3 row">
  
        <div class="col-md-3 form-group">
          <label for="example-text-input" class="col-form-label">Team Name</label>
           <select  class="form-control" (change)="teamIdData($event)">
                <option value="">-- Select Team Name --</option>
                <option *ngFor="let tl of teamdeatails" value="{{tl.team_id}}">
                {{tl.teamname}}
                </option>
            </select>
        </div>
        <div class="col-md-3 form-group">
            <label for="example-text-input" class="col-form-label">User Name</label>
             <select  class="form-control" (change)="UsersData($event)">
                  <option value="">-- Select User Name --</option>
                  <option *ngFor="let tl of usersData" value="{{tl.user_id}}">
                    {{tl.firstname}} {{tl.lastname}}
                  </option>
              </select>
          </div>
    </div>
    <div class="row">
    <div class="col-md-8">
    <div id="tickets-table_filter" class="dataTables_length"><label
        class="d-inline-flex align-items-center">Search:
        <input type="text" name="incentivedetails" class="form-control form-control-sm ms-2"
          aria-controls="tickets-table" [(ngModel)]="incentivedetails"></label>
      </div>
    </div>
    <div class="col-md-4">
        <ngb-pagination class="d-flex justify-content-center" [(page)]="page" [maxSize]="4" [collectionSize]="userInceData.length" [boundaryLinks]="true"  style="justify-content: right!important;"></ngb-pagination>
    </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Monthly Incentive</h4>
                </div>
                <div class="card-body" style="padding: 2 5px 2 5px;">
                   <div class="table-responsive">
            
                        <table class="" style="width:100%">
                            <tr>
                                <th rowspan="2">Month
                                </th>
                                <th colspan="3">Criteria</th>
                                <th colspan="2">Sales Details </th>
                                <th colspan="4">Gross Incentives
                                    (i.e. Depending upon the Performance)</th>
                                <th colspan="5">Accumulated Net Incentives
                                        (i.e. Accumulated On Invoice Submitted)</th>
                                <th colspan="5">Redeemable Incentives
                                        (i.e. Invoice Amount Received)</th> 
                                <th colspan="4"></th>
                            
                            </tr>
                            <tr>
                                <td>Name</td>
                                <td>Eligibility of Incentives</td>
                                <td>Bonus Eligibility</td>
                                <td>No. Of Sourcing</td>
                                <td>No. Of Closing</td>
                                <td>Monthly Sorcing Incentives</td>
                                <td>Monthly closing Incentives</td>
                                <td>Bonus</td>
                                <td>Total Incentives</td>
                                <td>Invoice Raised for Sourcing</td>
                                <td>Invoice Raised Closing</td>
                                <td>Sourcing</td>
                                <td>Closing</td>
                                <td>Total Accumulated Incentive</td>
                                <td>Payout Received Sourcing Deals</td>
                                <td>Payout Received Closing Deals</td>
                                <td>Monthly Sorcing Incentives</td>
                                <td>Monthly closing Incentives</td>
                                <td>Total Incentives</td>
                                <td>Payable Bonus</td>
                                <td>Paid Amount</td>
                                <td>Pending Amount</td>
                                <td>Remark</td>
                            </tr>
                            <tr *ngFor="let data of userInceData | incentivedetails:incentivedetails | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize">
                                <td>{{data.YearMonth}}</td>
                                <td>{{data.firstname}} {{data.lastname}}</td>
                                <td>
                                    <ng-container *ngIf="data.eligibility_ince == '1'; else templateA">
                                        Yes
                                        </ng-container>
                                      <ng-template #templateA>
                                        No
                                      </ng-template>
                                </td>
                                <td></td>
                                <td>{{data.gi_no_of_sourcing}}</td>
                                <td>{{data.gi_no_of_closing}}</td>
                                <td>{{data.gi_sourcing_amt}}</td>
                                <td>{{data.gi_closing_amt}}</td>
                                <td></td>
                                <td>{{data.gi_sourcing_amt + data.gi_closing_amt}}</td>
                                <td>{{data.ai_sourcing_amt}}</td>
                                <td>{{data.ai_closing_amt}}</td>
                                <td>{{data.ai_sourcing_ince}}</td>
                                <td>{{data.ai_closing_ince}}</td>
                                <td>{{data.ai_sourcing_amt + data.ai_closing_amt}}</td>
                                <td>{{data.pi_sourcing_ince}}</td>
                                <td>{{data.pi_closing_ince}}</td>
                                <td>{{data.pi_sourcing_amt}}</td>
                                <td>{{data.pi_closing_amt}}</td>
                                <td>{{data.pi_sourcing_amt + data.pi_closing_amt}}</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            
                            </tr>
                        </table>
                    </div>
    
                </div>
            </div>
        </div>
    </div>
</div> 
