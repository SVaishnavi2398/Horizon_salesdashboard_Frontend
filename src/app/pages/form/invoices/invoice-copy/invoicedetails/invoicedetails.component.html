<div class="container-fluid">

    <!-- start page title -->
    <!-- <app-page-title title="Create Sales Details"></app-page-title> -->
    <!-- end page title -->

    <div class="page-title-box d-flex align-items-center justify-content-between"  style="padding-bottom:0px !important;"> 
      <!-- start page title -->
      <div class="mb-0 font-size-20">
          <h4>Add Invoice Details</h4> 
      </div>
      <!-- <app-page-title title="Sales Details"></app-page-title> -->
      <!-- end page title -->

      <div class="col-md-8"  style="text-align: right;">
          <!-- <button type="button" class="btn btn-primary mb-3"  (click)="open(content)"  style="margin-right: 10px;"><i class="mdi mdi-plus me-1"></i>Add Client Details</button> -->

          <!-- <button type="button" class="btn btn-primary mb-3"  routerLink="/form/channelpartner"><i class="mdi mdi-plus me-1"></i>Add Channel Partner</button> -->
          <!-- <button type="button" class="btn btn-primary waves-effect waves-light"  (click)="openModal(content)">Standard modal</button> -->

      </div>
    </div> 


<form  (ngSubmit)="submitInvoicedetails()">

  


  <div class="mb-3 row">

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Sales ID</label>
      <select  class="form-control"  name="sales_id"  [(ngModel)]="invoicedetails.sales_id">
        <option value="">-- Select Subproject Name --</option>
        <option *ngFor="let sl of saleslistArr"  value="{{sl.sales_id}}">  {{sl.sales_id}}
        </option>
    </select>
    <span class="text-danger" [hidden]="!error.sales_id">{{error.sales_id}}</span>
    </div>


    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Company Name</label>
      <select  class="form-control"  name="company_id"  [(ngModel)]="invoicedetails.company_id">
        <option value="">-- Select Subproject Name --</option>
        <option *ngFor="let sl of companylistArr"  value="{{sl.debtor_company_det_id}}">  {{sl.cname}}
        </option>
    </select>
    <span class="text-danger" [hidden]="!error.company_id">The compnay name field is required</span>
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Invoice Number</label>
      <input class="form-control" type="text" value="" id="invoice_date" name="invoice_date"  [(ngModel)]="invoicedetails.invoice_num">
      <span class="text-danger" [hidden]="!error.invoice_date">{{error.invoice_date}}</span>
    </div>
    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Invoice Date</label>
      <input class="form-control" type="date" value="" id="invoice_num" name="invoice_num"  [(ngModel)]="invoicedetails.invoice_date">
      <span class="text-danger" [hidden]="!error.invoice_num">{{error.invoice_num}}</span>
    </div>

    

  </div>


  <div class="mb-3 row">


    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Payout Percentage </label>
      <input class="form-control" type="text" value="" id="payout_percentage"  name="payout_percentage"  [(ngModel)]="invoicedetails.payout_percentage">
      <span class="text-danger" [hidden]="!error.payout_percentage">{{error.payout_percentage}}</span>
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Taxable Amount</label>
      <input class="form-control" type="text" value="" id="taxable_amt"  name="taxable_amt"  [(ngModel)]="invoicedetails.taxable_amt">
      <span class="text-danger" [hidden]="!error.taxable_amt">{{error.taxable_amt}}</span>             
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">CGST Amount</label>
      <input class="form-control" type="text" value="" id="cgst_amt"  name="cgst_amt"  [(ngModel)]="invoicedetails.cgst_amt">
      <span class="text-danger" [hidden]="!error.cgst_amt">{{error.cgst_amt}}</span>    
    
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">SGST Amount</label>
      <input class="form-control" type="text" value="" id="sgst_amt"  name="sgst_amt"  [(ngModel)]="invoicedetails.sgst_amt">
      <span class="text-danger" [hidden]="!error.sgst_amt">{{error.sgst_amt}}</span>
    </div>

    

  </div>


  <div class="mb-3 row">

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">IGST Amount</label>
      <input class="form-control" type="text" value="" id="igst_amt"  name="igst_amt"  [(ngModel)]="invoicedetails.igst_amt">
      <span class="text-danger" [hidden]="!error.igst_amt">{{error.igst_amt}}</span>
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Total GST Amount</label>
      <input class="form-control" type="text" value="" id="total_gst_amt"  name="total_gst_amt"  [(ngModel)]="invoicedetails.total_gst_amt">
      <span class="text-danger" [hidden]="!error.total_gst_amt">{{error.total_gst_amt}}</span>
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Total Invoice Amount</label>
      <input class="form-control" type="text" value="" id="total_invoice_amt"  name="total_invoice_amt"  [(ngModel)]="invoicedetails.total_invoice_amt">
      <span class="text-danger" [hidden]="!error.total_invoice_amt">{{error.total_invoice_amt}}</span>
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">TDS Rate (in %)</label>
      <input class="form-control" type="text" value="" id="receivable_tds_amt"  name="tds_rate"  [(ngModel)]="invoicedetails.tds_rate">
      <span class="text-danger" [hidden]="!error.receivable_tds_amt">{{error.receivable_tds_amt}}</span>
    </div>

  
   


  </div>

  <div class="mb-3 row">
    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Receivable TDS Amount</label>
      <input class="form-control" type="text" value="" id="receivable_tds_amt"  name="receivable_tds_amt"  [(ngModel)]="invoicedetails.receivable_tds_amt">
      <span class="text-danger" [hidden]="!error.receivable_tds_amt">{{error.receivable_tds_amt}}</span>
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Receivable Amount</label>
      <input class="form-control" type="text" value="" id="receivable_amt"  name="receivable_amt"  [(ngModel)]="invoicedetails.receivable_amt">
      <span class="text-danger" [hidden]="!error.receivable_amt">{{error.receivable_amt}}</span>
    </div>

    
    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Invoice Status</label>
      <select  class="form-control"  name="inv_status_id"  [(ngModel)]="invoicedetails.inv_status_id">
        <option value="">-- Select Subproject Name --</option>
        <option *ngFor="let sl of invoicestatusArr"  value="{{sl.inv_status_id}}">  {{sl.status}}
        </option>
    </select>
    <span class="text-danger" [hidden]="!error.inv_status_id">The status field is required</span>
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Invoice Submited Date</label>
      <input class="form-control" type="date" value="" id="inv_submitted_date"  name="inv_submitted_date"  [(ngModel)]="invoicedetails.inv_submitted_date">
      <span class="text-danger" [hidden]="!error.inv_submitted_date">{{error.inv_submitted_date}}</span>   
    </div>
    </div>
    <div class="mb-3 row">

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Due Amount</label>
      <input class="form-control" type="text" value="" id="due_amt"  name="due_amt"  [(ngModel)]="invoicedetails.due_amt">
      <span class="text-danger" [hidden]="!error.due_amt">{{error.due_amt}}</span>
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Credit Note Amount</label>
      <input class="form-control" type="text" value="" id="credit_note_amt"  name="credit_note_amt"  [(ngModel)]="invoicedetails.credit_note_amt">
      <span class="text-danger" [hidden]="!error.credit_note_amt">{{error.credit_note_amt}}</span>
    </div>

  </div>

  <!-- <div class="mb-3 row">

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Team Name</label>
      <select  class="form-control"  name="team_id"  [(ngModel)]="invoicedetails.team_id">
          <option value="">-- Select Team --</option>
          <option *ngFor="let tl of teamsArr"  value="{{tl.team_id}}">
          {{tl.teamname}}
          </option>
      </select>
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Leads Source</label>
      <select  class="form-control"  name="leadsource_id"  [(ngModel)]="invoicedetails.leadsource_id">
        <option value="">-- Select Lead Source --</option>
        <option *ngFor="let tl of leadsourceArr"  value="{{tl.leadsource_id}}">
        {{tl.leadsource}}
        </option>
    </select>
    </div>

    <div class="col-md-3">
      <label for="example-text-input" class="col-form-label">Booking ID</label>
      <input class="form-control" type="text" value="" id="booking_id"  name="booking_id"  [(ngModel)]="invoicedetails.booking_id">
    </div>

    <div class="col-md-3">
        <label for="example-text-input" class="col-form-label">Remark</label>
        <input class="form-control" type="text" value="" id="remark"  name="remark"  [(ngModel)]="invoicedetails.remark">
      </div>

    </div> -->

    

  <button type="submit" class="btn btn-primary">Submit</button>
</form>
  
  </div> <!-- container-fluid -->

  <!-- Standard Modal -->
<ng-template #content role="document" let-modal>
  <div class="modal-header">
    <h5 class="modal-title mt-0">Create Client Details</h5>
    <button type="button" class="btn-close" aria-hidden="true" (click)="modal.dismiss('Cross click')">×</button>
  </div>
  <div class="modal-body">
      <app-clientdetails></app-clientdetails>
  </div>
  <!-- <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
    <button type="button" class="btn btn-primary">Save changes</button>
  </div> -->
</ng-template>



